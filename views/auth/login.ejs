<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/indexstyle.css">
    <style>
        /* Background image styling */
        body {
            background-image: url('https://plus.unsplash.com/premium_photo-1661602375984-ab806edced67?q=80&w=870&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            position: relative;
        }

        /* Overlay to improve readability */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.85);
            z-index: -1;
        }

        /* Container adjustments */
        .container.mt-3 {
            position: relative;
            z-index: 1;
        }

        /* Left side image styling */
        .login-image-container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;

        }

        .login-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);

        }

        /* Card styling for better visibility */
        .card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
        }

        .card-header {
            border-radius: 0 !important;
        }

        /* Flash message styles */
        .flash-message {
            position: fixed;
            top: 80px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 5px;
            color: white;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 400px;
            animation: slideIn 0.3s ease-out;
        }

        .flash-success {
            background-color: #28a745;
            border-left: 4px solid #1e7e34;
        }

        .flash-error {
            background-color: #dc3545;
            border-left: 4px solid #c82333;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Close button for flash messages */
        .flash-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            margin-left: 10px;
            float: right;
        }
    </style>
</head>

<body>
    <%- include('../layout/navbar.ejs') %>

        <!-- Flash Messages -->
        <% if (success_msg && success_msg.length> 0) { %>
            <div class="flash-message flash-success">
                <i class="fas fa-check-circle"></i>
                <span>
                    <%= success_msg %>
                </span>
                <button class="flash-close" onclick="this.parentElement.remove()">&times;</button>
            </div>
            <script>
                // Auto remove success message after 5 seconds
                setTimeout(() => {
                    const flashMsg = document.querySelector('.flash-success');
                    if (flashMsg) flashMsg.remove();
                }, 5000);
            </script>
            <% } %>

                <% if (error_msg && error_msg.length> 0) { %>
                    <div class="flash-message flash-error">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>
                            <%= error_msg %>
                        </span>
                        <button class="flash-close" onclick="this.parentElement.remove()">&times;</button>
                    </div>
                    <script>
                        // Auto remove error message after 7 seconds (longer for errors)
                        setTimeout(() => {
                            const flashMsg = document.querySelector('.flash-error');
                            if (flashMsg) flashMsg.remove();
                        }, 7000);
                    </script>
                    <% } %>


                        <div class="container mt-3">
                            <div class="row justify-content-center">
                                <!-- Left side image - visible on all screen sizes -->
                                <div class="col-md-6 col-lg-5 d-flex align-items-center mb-4 mb-md-0">
                                    <div class="login-image-container">
                                        <img src="https://static.vecteezy.com/system/resources/previews/010/925/681/non_2x/enter-login-and-password-registration-page-on-screen-sign-in-to-your-account-creative-metaphor-login-page-mobile-app-with-user-page-identification-in-internet-vector.jpg"
                                            alt="E-commerce Shopping" class="login-image">
                                    </div>
                                </div>

                                <!-- Login form -->
                                <div class="col-md-6 col-lg-4">
                                    <div class="card shadow">
                                        <div class="card-header bg-primary text-white text-center">
                                            <h2 class="mb-0">Login to Your Account</h2>
                                        </div>
                                        <div class="card-body p-4">
                                            <form action="/login/user" method="post" id="loginForm">
                                                <div class="form-group">
                                                    <label for="email">Email Address</label>
                                                    <input type="email" class="form-control" id="email" name="email"
                                                        required>
                                                </div>

                                                <div class="form-group">
                                                    <label for="password">Password</label>
                                                    <input type="password" class="form-control" id="password"
                                                        name="password" required>
                                                </div>

                                                <div class="form-group form-check">
                                                    <input type="checkbox" class="form-check-input" id="rememberMe"
                                                        name="rememberMe">
                                                    <label class="form-check-label" for="rememberMe">Remember me</label>
                                                </div>

                                                <div class="form-group text-center mt-4">
                                                    <button type="submit"
                                                        class="btn btn-primary btn-lg px-4">Login</button>
                                                </div>
                                            </form>
                                            <div class="text-center mt-3">
                                                <p>Don't have an account? <a href="/register/user">Register here</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
                            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
                            crossorigin="anonymous"></script>
                        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
                            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
                            crossorigin="anonymous"></script>
                        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
                            integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
                            crossorigin="anonymous"></script>
</body>

</html>